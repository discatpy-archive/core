# SPDX-License-Identifier: MIT

# this file was auto-generated by scripts/generate_endpoints.py

import typing as t

import discord_typings as dt

from ...file import BasicFile
from ...types import Unset, UnsetOr
from ..route import Route
from .core import EndpointMixin

__all__ = ("InteractionEndpoints",)


class InteractionEndpoints(EndpointMixin):
    def create_interaction_response(
        self,
        interaction_id: dt.Snowflake,
        interaction_token: str,
        *,
        type: dt.InteractionCallbackTypes,
        data: UnsetOr[dt.InteractionCallbackData] = Unset,
        files: UnsetOr[list[BasicFile]] = Unset,
    ):
        return self.request(
            Route(
                "POST",
                "/interactions/{interaction_id}/{interaction_token}/callback",
                interaction_id=interaction_id,
                interaction_token=interaction_token,
            ),
            json_params={"type": type, "data": data},
            files=files,
        )

    def get_original_interaction_response(
        self, application_id: dt.Snowflake, interaction_token: str
    ):
        return self.request(
            Route(
                "GET",
                "/webhooks/{application_id}/{interaction_token}/messages/@original",
                application_id=application_id,
                interaction_token=interaction_token,
            )
        )

    def edit_original_interaction_response(
        self,
        application_id: dt.Snowflake,
        interaction_token: str,
        *,
        content: UnsetOr[t.Optional[str]] = Unset,
        embeds: UnsetOr[t.Optional[list[dt.EmbedData]]] = Unset,
        allowed_mentions: UnsetOr[t.Optional[dt.AllowedMentionsData]] = Unset,
        components: UnsetOr[t.Optional[list[dt.ComponentData]]] = Unset,
        attachments: UnsetOr[t.Optional[list[dt.PartialAttachmentData]]] = Unset,
        files: UnsetOr[list[BasicFile]] = Unset,
    ):
        return self.request(
            Route(
                "PATCH",
                "/webhooks/{application_id}/{interaction_token}/messages/@original",
                application_id=application_id,
                interaction_token=interaction_token,
            ),
            json_params={
                "content": content,
                "embeds": embeds,
                "allowed_mentions": allowed_mentions,
                "components": components,
                "attachments": attachments,
            },
            files=files,
        )

    def delete_original_interaction_response(
        self, application_id: dt.Snowflake, interaction_token: str
    ):
        return self.request(
            Route(
                "DELETE",
                "/webhooks/{application_id}/{interaction_token}/messages/@original",
                application_id=application_id,
                interaction_token=interaction_token,
            )
        )

    def create_followup_message(
        self,
        application_id: dt.Snowflake,
        interaction_token: str,
        *,
        content: UnsetOr[str] = Unset,
        tts: UnsetOr[bool] = Unset,
        embeds: UnsetOr[list[dt.EmbedData]] = Unset,
        allowed_mentions: UnsetOr[dt.AllowedMentionsData] = Unset,
        components: UnsetOr[list[dt.ComponentData]] = Unset,
        attachments: UnsetOr[list[dt.PartialAttachmentData]] = Unset,
        flags: UnsetOr[int] = Unset,
        thread_name: UnsetOr[str] = Unset,
        files: UnsetOr[list[BasicFile]] = Unset,
    ):
        return self.request(
            Route(
                "POST",
                "/webhooks/{application_id}/{interaction_token}",
                application_id=application_id,
                interaction_token=interaction_token,
            ),
            json_params={
                "content": content,
                "tts": tts,
                "embeds": embeds,
                "allowed_mentions": allowed_mentions,
                "components": components,
                "attachments": attachments,
                "flags": flags,
                "thread_name": thread_name,
            },
            files=files,
        )

    def get_followup_message(
        self, application_id: dt.Snowflake, interaction_token: str, message_id: dt.Snowflake
    ):
        return self.request(
            Route(
                "GET",
                "/webhooks/{application_id}/{interaction_token}/messages/{message_id}",
                application_id=application_id,
                interaction_token=interaction_token,
                message_id=message_id,
            )
        )

    def edit_followup_message(
        self,
        application_id: dt.Snowflake,
        interaction_token: str,
        message_id: dt.Snowflake,
        *,
        content: UnsetOr[t.Optional[str]] = Unset,
        embeds: UnsetOr[t.Optional[list[dt.EmbedData]]] = Unset,
        allowed_mentions: UnsetOr[t.Optional[dt.AllowedMentionsData]] = Unset,
        components: UnsetOr[t.Optional[list[dt.ComponentData]]] = Unset,
        attachments: UnsetOr[t.Optional[list[dt.PartialAttachmentData]]] = Unset,
        files: UnsetOr[list[BasicFile]] = Unset,
    ):
        return self.request(
            Route(
                "PATCH",
                "/webhooks/{application_id}/{interaction_token}/messages/{message_id}",
                application_id=application_id,
                interaction_token=interaction_token,
                message_id=message_id,
            ),
            json_params={
                "content": content,
                "embeds": embeds,
                "allowed_mentions": allowed_mentions,
                "components": components,
                "attachments": attachments,
            },
            files=files,
        )

    def delete_followup_message(
        self, application_id: dt.Snowflake, interaction_token: str, message_id: dt.Snowflake
    ):
        return self.request(
            Route(
                "DELETE",
                "/webhooks/{application_id}/{interaction_token}/messages/{message_id}",
                application_id=application_id,
                interaction_token=interaction_token,
                message_id=message_id,
            )
        )
